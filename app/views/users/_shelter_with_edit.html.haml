.shelter
  .row
    .large-4.columns
      .row
        %h2
          #{shelter.name}
      .row
        %strong Address:
        = shelter.address
      .row
        %strong Phone:
        = shelter.phone
      .row
        %strong Email:
        = shelter.email
      .row
        %strong Size:
        = shelter.size
      .row
        Full:
        =check_box_tag 'fullSwitch', 'full', shelter.full
      .row.text-center
        %a.button.success.radius.small{href: "#{printout_user_path(@user)}"} Printouts
    .large-3.columns.show-for-large-up
      %span.has-tip.tip-bottom.tip-top{class: "[tip-top tip-right] [radius round]", "data-options" => "disable_for_touch:true", "data-tooltip" => "", title: "#{shelter.current_interest_level_message}"}
        .interest_level{data: {interest_percentage: shelter.current_interest_level}}
    .large-5.columns.show-for-large-up
      %a{href: gmap_link(shelter.address)}
        %img{src: gmap(shelter.address)}

:javascript
  checked = $("#fullSwitch").is(":checked");
  $("#full").css("display", checked ? "inline" : "none");

  $("#fullSwitch").change(function(){
  var checked = $(this).is(':checked')
    var fullSwitch = this;
    fullSwitch.disabled = true;
    $.ajax({
      type: "PUT",
      url: "/users/#{shelter.id}",
      data: {user:{full: checked}},
      dataType: "json",
      success: function(){
      if(checked)
        $("#full").show();
      else
        $("#full").hide();
        fullSwitch.disabled = false;
      }
    })
  });
